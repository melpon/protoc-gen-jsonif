syntax = "proto3";

option go_package = "cmd/generated";

import weak "google/protobuf/descriptor.proto";

extend google.protobuf.MessageOptions {
  // JSON から読み込む際に、存在しないフィールドがあってもエラーにしない（各型のデフォルト値になる）
  optional bool json_message_optimistic = 5012;
  // JSON に変換する際に、デフォルト値のままだったらフィールドを出力しない
  optional bool json_message_discard_if_default = 5013;
}
// フィールドに対しても同じ設定ができる
extend google.protobuf.FieldOptions {
  optional bool json_optimistic = 5012;
  optional bool json_discard_if_default = 5013;
}